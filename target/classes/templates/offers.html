<!DOCTYPE html> 
<html xmlns:th="http://www.thymeleaf.org"> 
<body onload="show()"> 
<div id="show">
</div>
<script th:inline="javascript">
/*<![CDATA[*/
function show(){
		var originalList =/*[[${parts}]]*/ [];
		var finalList = [];
		var element={};
		for (i=0;i<originalList.length;i++){
		var intID=originalList[i].id*1;
		if(originalList[i].discount>0){
		var element = {Serial_number:intID, Date_of_manufacture:originalList[i].pdate,Final_pice:originalList[i].discount};
		finalList.push(element);
		}
		else if (originalList[i].pvalue>0){
		var element = {Serial_number:intID, Date_of_manufacture:originalList[i].pdate,Final_pice:originalList[i].pvalue};
		finalList.push(element);
		}
		}
      document.getElementById("show").innerHTML=`${JSON. stringify(finalList)}`; 
      }
/*]]>*/
</script>
<form action="#" th:action="@{/index}">
       			 <input type="submit" value="Back to home"/>
   			 </form>
</body> 
</html>